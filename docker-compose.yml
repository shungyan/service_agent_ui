version: "3.9"

services:
  backend:
    container_name: chat-backend
    build:
      context: .
      dockerfile: Dockerfile
    ports:
      - "4896:4896"
    restart: unless-stopped

  
  frontend:
    container_name: chat-frontend
    build:
      context: ./chat-ui
      dockerfile: Dockerfile
    ports:
      - "5174:5174"
    restart: unless-stopped

  pocketbase:
    build:
      context: ./pocketbase   # ðŸ‘ˆ points to PocketBase app
      dockerfile: Dockerfile
    container_name: pocketbase
    ports:
      - "8090:8090"
    volumes:
      # ðŸ‘‡ host path is relative to docker-compose.yml location
      - ./pocketbase/pb_data:/app/pb_data
    restart: unless-stopped